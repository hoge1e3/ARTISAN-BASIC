10 REM BLIT GRAPHICS TEST
20 COLOR 15,1,1:SCREEN 2,2:CLEAR 300,&HA000:DEFINT A-Z
30 REM FILL COLOR INFO
40 _FILVRM(BASE(11),6144,&H41,0)
50 REM FILL FOREGROUND
60 _FILRAM(&HA000,6144,&B11111111)
70 REM DEFINE CHARACTER AND MASK IN MEMORY
80 FOR I=0 TO 7:READ A:POKE &HC000+I,A:READ A:POKE &HC008+I,A:NEXT
90 FOR I=0 TO 7:READ A:POKE &HC010+I,A:READ A:POKE &HC018+I,A:NEXT
100 FOR I=0 TO 7:READ A:POKE &HC020+I,A:READ A:POKE &HC028+I,A:NEXT
110 FOR I=0 TO 7:READ A:POKE &HC030+I,A:READ A:POKE &HC038+I,A:NEXT
120 DIM MR(8,1):DIM X(1):DIM Y(1):DIM VX(1):DIM VY(1)
125 FOR I=0 TO 1
126 X(I)=INT(RND(1)*230):VX(I)=1
126 Y(I)=INT(RND(1)*40):VY(I)=1
130 MR(3,I)=256:REM ADD-TO VALUE TO NEXT ROW OF BACKGROUND
140 MR(4,I)=&HC020:REM MASK DATA START
150 MR(5,I)=&HC000:REM CHARACTER DATA START
160 MR(6,I)=16:REM ADD-TO VALUE TO NEXT ROW OF MASK AND CHARACTER DATA
170 MR(7,I)=2:REM NUMBER OF COLUMNS OF CHARACTER
180 MR(8,I)=2:REM NUMBER OF ROWS OF CHARACTER
181 NEXT
185 FOR I=0 TO 1
190 MR(0,I)=X(I) MOD 8:REM X SHIFT
200 MR(1,I)=Y(I) MOD 8:REM Y SHIFT
205 MR(2,I)=&HA000+INT(Y(I)/8)*256+INT(X(I)/8)*8:REM BACKGROUND DATA START
210 _BLIT(VARPTR(MR(0,I)))
212 X(I)=X(I)+VX(I):IF X(I)<1 OR X(I)>238 THEN VX(I)=-VX(I)
213 Y(I)=Y(I)+VY(I):IF Y(I)<1 OR Y(I)>46 THEN VY(I)=-VY(I)
220 NEXT
240 _MEMVRM(&HA000,BASE(12),2048,1)
245 _FILRAM(&HA000,2048,INT(RND(1)*256))
260 GOTO 185
990 REM CHARACTER DATA
1000 DATA &B00000000,&B00000000
1010 DATA &B01111111,&B11111110
1020 DATA &B01000000,&B00000010
1030 DATA &B01000000,&B00000010
1040 DATA &B01000000,&B00000010
1050 DATA &B01000000,&B00000010
1060 DATA &B01000000,&B00000010
1070 DATA &B01000000,&B00000010
1080 DATA &B01000000,&B00000010
1090 DATA &B01000000,&B00000010
1100 DATA &B01000000,&B00000010
1110 DATA &B01000000,&B00000010
1120 DATA &B01000000,&B00000010
1130 DATA &B01000000,&B00000010
1140 DATA &B01111111,&B11111110
1150 DATA &B00000000,&B00000000
1160 REM MASK DATA
1170 DATA &B10000000,&B00000001
1180 DATA &B00000000,&B00000000
1190 DATA &B00000000,&B00000000
1200 DATA &B00011111,&B11111000
1210 DATA &B00011111,&B11111000
1220 DATA &B00011111,&B11111000
1230 DATA &B00011111,&B11111000
1240 DATA &B00011111,&B11111000
1250 DATA &B00011111,&B11111000
1260 DATA &B00011111,&B11111000
1270 DATA &B00011111,&B11111000
1280 DATA &B00011111,&B11111000
1290 DATA &B00011111,&B11111000
1300 DATA &B00000000,&B00000000
1310 DATA &B00000000,&B00000000
1320 DATA &B10000000,&B00000001


