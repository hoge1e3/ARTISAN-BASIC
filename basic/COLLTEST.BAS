10 REM COLLISION DETECTION TEST
20 COLOR 15,1,4
30 SCREEN 2,2
40 DEFINT A-Z
50 SU=0:A=0:I=0:J=0:X=120:Y=88
60 DIM SA(3,31):DIM RE(6,9)
70 _FILVRM(BASE(14),32,255,0)
80 SA(0,0)=Y:SA(1,0)=X:SA(2,0)=0:SA(3,0)=6
90 FOR I=0 TO 3
100 RE(0,I)=1
110 FOR J=1 TO 6:READ RE(J,I):NEXT J
120 LINE(RE(1,I)+RE(3,I),RE(2,I)+RE(4,I))-(RE(1,I)+RE(3,I)+RE(5,I),RE(2,I)+RE(4,I)+RE(6,I)),15,BF
130 NEXT I
140 _SPRENABLE(SA,SU,0)
150 FOR I=1 TO 31:_SPRSET (I,256,256,I,1):NEXT
160 SU=1

200 IF STRIG(0) THEN _SPRDISABLE:END
210 ON STICK(0)+1 GOTO 200,220,230,240,250,260,270,280,290
220 Y=Y-1:GOTO 300
230 Y=Y-1:X=X+1:GOTO 300
240 X=X+1:GOTO 300
250 Y=Y+1:X=X+1:GOTO 300
260 Y=Y+1:GOTO 300
270 Y=Y+1:X=X-1:GOTO 300
280 X=X-1:GOTO 300
290 Y=Y-1:X=X-1
300 IF X<0 THEN X=0
310 IF X>240 THEN X=240
320 IF Y<0 THEN Y=0
330 IF Y>176 THEN Y=176
340 SA(0,0)=Y:SA(1,0)=X:SU=1
350 _COLL(A,X,Y,16,16,4,RE)
360 IF A>=0 THEN BEEP
370 GOTO 200

1000 DATA 0,0,5,5,5,10
1010 DATA 20,20,0,0,8,50
1020 DATA 10,180,0,0,200,8
1030 DATA 200,100,0,0,16,16